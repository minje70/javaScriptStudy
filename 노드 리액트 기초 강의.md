# boilerplate

## Boilerplate ë€ [ì¡´ ì•ˆ](https://www.inflearn.com/course/%EB%94%B0%EB%9D%BC%ED%95%98%EB%A9%B0-%EB%B0%B0%EC%9A%B0%EB%8A%94-%EB%85%B8%EB%93%9C-%EB%A6%AC%EC%95%A1%ED%8A%B8-%EA%B8%B0%EB%B3%B8/lecture/37061)

ë³€ê²½ ì—†ì´ ê³„ì†í•˜ì—¬ ì¬ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì½”ë“œë¥¼ ë§í•œë‹¤.

ì´ í›„ ì¤‘ë³µë˜ëŠ” ì„¤ëª…ì„ ìµœëŒ€í•œ ì—†ì• ê¸° ìœ„í•´ì„œ ë§Œë“  ê°•ì¢Œë¼ê³  í•¨.

### NODE JSë€?? EXPRESS JS ë€?

- Node jsëŠ” í•˜ë‚˜ì˜ ì–¸ì–´ë¡œ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì„œë²„ì‚¬ì´ë“œì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì–¸ì–´ì´ë‹¤.
- express jsëŠ” í”„ë ˆì„ì›Œí¬ë¡œ node jsë¥¼ ì‚¬ìš©í•˜ì—¬ ì„œë²„ë¥¼ ë§Œë“¤ ìˆ˜ ìˆëŠ” ë„êµ¬ì´ë‹¤.



### node js ë°›ê¸°.

##### node jsê°€ ìˆëŠ”ì§€ í™•ì¸

- í„°ë¯¸ë„ì—ì„œ `node -v` ì…ë ¥



##### [node ë‹¤ìš´ë¡œë“œ](https://nodejs.org/ko/)



##### npm init

- ì‹¤í–‰í•˜ë©´ ê¸°ë³¸ ì„¸íŒ…íŒŒì¼ì¸ package.jsonì„ ë§Œë“¤ì–´ ì¤€ë‹¤.

##### index.js

- ë°±ì—”ë“œì˜ ì‹œì‘ì ì´ë‹¤.

##### express ë‹¤ìš´ë¡œë“œ

- í„°ë¯¸ë„ì—ì„œ `npm install express --save` ì…ë ¥
- ë°›ìœ¼ë©´ package.jsonì— `"express": "^4.17.1"`ì´ ì¶”ê°€ëœë‹¤.
- Node_modulesë¼ëŠ” í´ë”ë„ ì¶”ê°€ ëœë‹¤.

##### mongoldb

- Mongoldb.com íšŒì›ê°€ì….
- create new cluster
  - aws, singapore, m0(free)ì„ íƒ
- clusterê°€ ìƒì„±ë˜ë©´ connectì— ë“¤ì–´ê°€ì„œ usernameê³¼ passwordë¥¼ ì…ë ¥ í›„ ë‹¤ í™•ì¸
- application codeê°€ ë‚˜ì˜¤ë©´ ë³µë¶™í•´ì„œ ì €ì¥í•´ë‘ê¸°.

##### mongoose

- mongodbë¥¼ í¸í•˜ê²Œ ì“¸ ìˆ˜ ìˆëŠ” Object Modeling Toolì´ë‹¤.
- í„°ë¯¸ë„ì— `npm install mongoose --save`ë¥¼ ì…ë ¥í•˜ë©´ ì¶”ê°€ëœë‹¤.
- Index.jsì— ì½”ë“œë¥¼ ì¶”ê°€í•œë‹¤.

``` javascript
const mongoose = require('mongoose')
mongoose.connect('mongodb+srv://mijeong:ch79854622@boilerplate.w1dqh.mongodb.net/myFirstDatabase?retryWrites=true&w=majority', {
	useNewUrlParser: true, useUnifiedTopology: true, useCreateIndex: true, useFindAndModify: false
}).then(() => console.log('MongoDB Connected...'))
	.catch(err => console.log(err))
```

- í„°ë¯¸ë„ì— `npm run start`ë¥¼ ì…ë ¥í•œë‹¤.

###### ğŸ˜‚ì£¼ì˜ì‚¬í•­

- passwordì…ë ¥í•˜ëŠ” ë¶€ë¶„ì— <>ëŠ” ì—†ì• ê¸°
- cluster ì»´í“¨í„°ì—ì„œëŠ” ë°©í™”ë²½ ë•Œë¬¸ì— mongodbì—ì„œ ë§¥ìœ¼ë¡œ ì ‘ê·¼ì„ ëª»í•˜ëŠ”ê±° ê°™ë‹¤.
- network accessì—ì„œ í˜„ì¬ ipaddressë¥¼ ë“±ë¡í•´ì¤˜ì•¼í•œë‹¤.

### Model & Schema

- model : schemaë¥¼ ê°ì‹¸ì£¼ëŠ” ê²ƒ.
- schema : ì°¾ì•„ë³´ê¸°. (ì„¤ëª…ì´ ë„ˆë¬´ ë¶€ì‹¤.)

``` javascript
const mongoose = require('mongoose'); // ëª¨ë“ˆì„ ê°€ì ¸ì˜¤ëŠ” ë¶€ë¶„.

const userSchema = mongoose.Schema({
	name: {
		type: String,
		maxlength: 50,
	},
	email: {
		type: String,
		trim: true, // emailì— ìˆëŠ” ê³µë°±ì„ ì—†ì• ì¤€ë‹¤.
		unique: 1 // ë“±ë¡ì„ í•˜ë‚˜ë§Œ í•  ìˆ˜ ìˆê²Œ í•´ì¤€ë‹¤.
	},
	password: {
		type: String,
		minlength: 5,
	},
	lastname: {
		type: String,
		maxlength: 50,
	},
	role: {
		type: Number,
		default: 0, // ìœ ì €ê°€ ë  ìˆ˜ ìˆê³  ê´€ë¦¬ìê°€ ë  ìˆ˜ ìˆë‹¤. ê·¸ëŸ° gradeë¥¼ ì •í•˜ëŠ” ë“¯ ì‹¶ë‹¤.
	},
	image: String,
	token: {
		type: String, // ìœ íš¨ì„± ê´€ë¦¬ë¥¼ ìœ„í•¨.
	},
	tokenExp: { // í† í°ì„ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ê¸°ê°„.
		type: Number,
	},
})

const User = mongoose.model('User', userSchema) // userschemaë¥¼ modelë¡œ ê°ì‹¸ì¤€ë‹¤.

module.exports = { User } // ë‹¤ë¥¸ ê³³ì—ì„œë„ ì‚¬ìš©í•  ìˆ˜ ìˆê²Œ exportsí•´ì¤€ë‹¤.
```

### git

git ì €ì¥ì†Œì— node_modulesë¥¼ ì˜¬ë¦´ í•„ìš”ëŠ” ì—†ë‹¤. ì¼ë‹¨ ìš©ëŸ‰ì´ ë§ê³  `npn install` ì„ í•˜ë©´ `package.json`ì— ì„¤ì¹˜í•  moduleì— ëŒ€í•œ ì •ë³´ê°€ ìˆê¸° ë•Œë¬¸ì— ì•Œì•„ì„œ ì„¤ì¹˜ê°€ ëœë‹¤.